<!DOCTYPE html>
<html  lang="zh">

<head>
    <meta charset="utf-8">
<title>机器学习笔记-----梯度下降与随机梯度下降 - 木叶村</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />



    <meta name="description" content="自己写代码实现梯度下降法和随机梯度下降法">
<meta name="keywords" content="机器学习">
<meta property="og:type" content="article">
<meta property="og:title" content="机器学习笔记-----梯度下降与随机梯度下降">
<meta property="og:url" content="https://jeweizhong.github.io/2019/05/26/ji-qi-xue-xi-bi-ji-ti-du-xia-jiang-yu-sui-ji-ti-du-xia-jiang/index.html">
<meta property="og:site_name" content="木叶村">
<meta property="og:description" content="自己写代码实现梯度下降法和随机梯度下降法">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="https://jeweizhong.github.io/images/12.jpg">
<meta property="og:updated_time" content="2019-05-26T12:57:26.306Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="机器学习笔记-----梯度下降与随机梯度下降">
<meta name="twitter:description" content="自己写代码实现梯度下降法和随机梯度下降法">
<meta name="twitter:image" content="https://jeweizhong.github.io/images/12.jpg">







<link rel="icon" href="/images/bitbug_favicon.ico">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.7.2/css/bulma.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,600|Source+Code+Pro">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css">


    
    
    
    <style>body>.footer,body>.navbar,body>.section{opacity:0}</style>
    

    
    
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css">
    

    
    

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.css">


    
    
    
    

<link rel="stylesheet" href="/css/back-to-top.css">


    
    

    
    
    
    

    
    
<link rel="stylesheet" href="/css/progressbar.css">
<script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>

    
    
    

    
    
    


<link rel="stylesheet" href="/css/style.css">
</head>
<body class="is-3-column">
    <nav class="navbar navbar-main">
    <div class="container">
        <div class="navbar-brand is-flex-center">
            <a class="navbar-item navbar-logo" href="/">
            
                <img src="/images/zhuye.svg" alt="机器学习笔记-----梯度下降与随机梯度下降" height="28">
            
            </a>
        </div>
        <div class="navbar-menu">
            
            <div class="navbar-start">
                
                <a class="navbar-item"
                href="/">主页</a>
                
                <a class="navbar-item"
                href="/archives">归档</a>
                
                <a class="navbar-item"
                href="/categories">分类</a>
                
                <a class="navbar-item"
                href="/tags">标签</a>
                
                <a class="navbar-item"
                href="/about">关于</a>
                
            </div>
            
            <div class="navbar-end">
                
                    
                    
                    <a class="navbar-item" target="_blank" title="My GitHub" href="https://github.com/JeWeizhong/JeWeizhong.github.io">
                        
                        <i class="fab fa-github"></i>
                        
                    </a>
                    
                
                
                <a class="navbar-item is-hidden-tablet catalogue" title="目录" href="javascript:;">
                    <i class="fas fa-list-ul"></i>
                </a>
                
                
                <a class="navbar-item search" title="搜索" href="javascript:;">
                    <i class="fas fa-search"></i>
                </a>
                
            </div>
        </div>
    </div>
</nav>
    
    <section class="section">
        <div class="container">
            <div class="columns">
			<!-- 将main_column_class() 改为 col() -->
                <div class="column is-6-tablet is-6-desktop is-9-widescreen has-order-2 column-main"><div class="card">
    
    <div class="card-image">
        <span  class="image is-7by1">
            <img class="thumbnail" src="/images/12.jpg" alt="机器学习笔记-----梯度下降与随机梯度下降">
        </span>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-05-25T16:00:00.000Z">2019-05-26</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/数学与统计/">数学与统计</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    8 分钟 读完 (大约 1173 个字)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                机器学习笔记-----梯度下降与随机梯度下降
            
        </h1>
        <div class="content">
            <p><em>自己写代码实现梯度下降法和随机梯度下降法</em></p>
<a id="more"></a>



<h2 id="损失函数与迭代公式"><a href="#损失函数与迭代公式" class="headerlink" title="损失函数与迭代公式"></a>损失函数与迭代公式</h2><p><strong>线性回归</strong>损失函数:</p>
<p>$$<br>J(\mathbf\theta) = \frac{1}{2}(\mathbf{X\theta} -\mathbf{Y})^T(\mathbf{X\theta} - \mathbf{Y})<br>$$</p>
<p><strong>逻辑回归</strong>损失函数：</p>
<p>$$<br>J(\theta) = - \frac{1}{m}\sum_{i=1}^m [ y^{(i)} lnf(x^{(i)}) + (1-y^{(i)})ln(1-f(x^{(i)})) ]<br>$$</p>
<p>损失函数求导</p>
<p>$$<br>\frac{\partial}{\partial\mathbf\theta}J(\mathbf\theta) =<br>\mathbf{X}^T(\mathbf{X\theta} - \mathbf{Y})<br>$$</p>
<p>其实<strong>逻辑回归</strong>的损失函数就是代入了一个sigmoid函数：</p>
<p>$$<br>g(\mathbf{X\theta}) = \frac {1}{1+e^{\mathbf{X\theta}}}<br>$$</p>
<p><strong>迭代公式：</strong></p>
<p>$$\omega_{j} := \omega_j- \frac{1}{m}\alpha\sum_{i=1}^m(f(x^{(i)}) - y^{(i)})x_j^{(i)} $$</p>
<p><em>如果是随机梯度下降，那么这里m=1</em></p>
<p>或者：</p>
<p>$$\theta{j} := \theta_j- \frac{1}{m} \alpha \mathbf {X}^T (g(\mathbf{X}\theta) - \vec y) $$</p>
<p><strong>注：$\frac1m$也可以不加</strong></p>
<h2 id="梯度下降"><a href="#梯度下降" class="headerlink" title="梯度下降"></a>梯度下降</h2><figure class="highlight python hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment"># 1. 导入需要的库</span></span><br><span class="line"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd</span><br><span class="line"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np</span><br><span class="line"><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> train_test_split</span><br><span class="line"><span class="hljs-keyword">from</span> sklearn.preprocessing <span class="hljs-keyword">import</span> StandardScaler</span><br></pre></td></tr></table></figure>

<figure class="highlight python hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment"># 数据来源: http://archive.ics.uci.edu/ml/machine-learning-databases/breast-cancer-wisconsin/</span></span><br><span class="line"><span class="hljs-comment"># 下载数据: wget http://archive.ics.uci.edu/ml/machine-learning-databases/breast-cancer-wisconsin/breast-cancer-wisconsin.data</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># 2. 导入数据集</span></span><br><span class="line"><span class="hljs-comment">#'样品代码编号'，'团块厚度'，'细胞大小均匀性'，   '细胞形状的均匀性'，'边缘粘附'，'单个上皮细胞大小'，...'种类'</span></span><br><span class="line">column_names=[<span class="hljs-string">'Sample code number'</span>,<span class="hljs-string">'Clump Thickness'</span>,<span class="hljs-string">'Uniformity of Cell Size'</span>,</span><br><span class="line">              <span class="hljs-string">'Uniformity of Cell Shape'</span>,<span class="hljs-string">'Marginal Adhesion'</span>,<span class="hljs-string">'Single Epithelial Cell Size'</span>,</span><br><span class="line">              <span class="hljs-string">'Bare nuclei'</span>,<span class="hljs-string">'Bland Chromatin'</span>,<span class="hljs-string">'Normal Nucleoli'</span>,<span class="hljs-string">'Mitoses'</span>,<span class="hljs-string">'Class'</span>]</span><br><span class="line"></span><br><span class="line">data=pd.read_csv(<span class="hljs-string">r'http://archive.ics.uci.edu/ml/machine-learning-databases/breast-cancer-wisconsin/breast-cancer-wisconsin.data'</span>,names=column_names)</span><br><span class="line">print(data.shape)</span><br></pre></td></tr></table></figure>

<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(699, 11)</span><br></pre></td></tr></table></figure>

<figure class="highlight python hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment"># 3. 处理丢失数据</span></span><br><span class="line"><span class="hljs-keyword">from</span> sklearn.preprocessing <span class="hljs-keyword">import</span> Imputer</span><br><span class="line"><span class="hljs-comment"># axis=0表示按列的平均值进行填充</span></span><br><span class="line"><span class="hljs-comment"># imputer = Imputer(missing_values = r"?", strategy = "mean", axis = 0)</span></span><br><span class="line"><span class="hljs-comment"># imputer = imputer.fit(data) # 处理缺失值</span></span><br><span class="line"><span class="hljs-comment"># data = imputer.transform(data) # 转换</span></span><br><span class="line"><span class="hljs-comment"># Imputer 的接口只能处理整数和"NaN" 所以我们用pandas内置的处理缺失值的方法</span></span><br><span class="line">data = data.replace(to_replace=<span class="hljs-string">'?'</span>,value=np.nan)</span><br><span class="line"><span class="hljs-comment"># 丢弃有缺失值的样本</span></span><br><span class="line">data = data.dropna(how=<span class="hljs-string">'any'</span>)</span><br><span class="line">print(data.shape)</span><br></pre></td></tr></table></figure>

<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(683, 11)</span><br></pre></td></tr></table></figure>

<figure class="highlight python hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment"># 4. 解析分类数据</span></span><br><span class="line"><span class="hljs-comment"># 由于每个维度的特征都是数字，所以我们就不用进行独热编码了</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># 5. 拆分数据集</span></span><br><span class="line">X_train, X_test, Y_train, Y_test = train_test_split( data.iloc[:,<span class="hljs-number">1</span>:<span class="hljs-number">10</span>] , data.iloc[:,<span class="hljs-number">10</span>] , test_size = <span class="hljs-number">0.25</span>, random_state = <span class="hljs-number">0</span>)</span><br><span class="line">print(X_train.shape)</span><br><span class="line">print(Y_train.shape)</span><br><span class="line">print(X_test.shape)</span><br><span class="line">print(Y_test.shape)</span><br></pre></td></tr></table></figure>

<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">(512, 9)</span><br><span class="line">(512,)</span><br><span class="line">(171, 9)</span><br><span class="line">(171,)</span><br></pre></td></tr></table></figure>

<figure class="highlight python hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment"># 6. 特征缩放</span></span><br><span class="line">sc_X = StandardScaler()</span><br><span class="line">X_train = sc_X.fit_transform(X_train) <span class="hljs-comment"># fit_transform 先训练数据得到方差期望等信息，再进行缩放</span></span><br><span class="line">X_test = sc_X.transform(X_test) <span class="hljs-comment"># transform直接进行数据缩放，用的是X_train的方差和期望</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment"># 7. 逻辑回归</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># 在逻辑回归中使用梯度下降</span></span><br><span class="line"><span class="hljs-comment"># 损失函数</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">loss_function</span><span class="hljs-params">(theta,x,y)</span>:</span></span><br><span class="line">    y_hat = sigma(x.dot(theta))</span><br><span class="line">    <span class="hljs-keyword">return</span> -np.sum(y*np.log(y_hat)+(<span class="hljs-number">1</span>-y)*np.log(<span class="hljs-number">1</span>-y_hat)) / len(x)</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># sigma函数</span></span><br><span class="line"><span class="hljs-comment"># 所有运算都是矩阵运算</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">sigma</span><span class="hljs-params">(x)</span>:</span></span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>/(<span class="hljs-number">1</span>+np.exp(-x))</span><br><span class="line"><span class="hljs-comment"># 梯度</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">tidu</span><span class="hljs-params">(theta,x,y)</span>:</span></span><br><span class="line">    <span class="hljs-keyword">return</span> x.T.dot(sigma(x.dot(theta))-y)/len(x)</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># 加一列截距</span></span><br><span class="line">X_train_b = np.insert(X_train,<span class="hljs-number">0</span>,values=<span class="hljs-number">1</span>,axis=<span class="hljs-number">1</span>)</span><br><span class="line">X_test_b = np.insert(X_test,<span class="hljs-number">0</span>,values=<span class="hljs-number">1</span>,axis=<span class="hljs-number">1</span>)</span><br><span class="line"></span><br><span class="line">Y_train_b = Y_train.values.reshape(Y_train.shape[<span class="hljs-number">0</span>],<span class="hljs-number">1</span>)</span><br><span class="line">print(Y_train_b.shape)</span><br><span class="line">alpha = <span class="hljs-number">0.001</span></span><br><span class="line"></span><br><span class="line">theta_old = np.full((X_train_b.shape[<span class="hljs-number">1</span>],<span class="hljs-number">1</span>), <span class="hljs-number">-1</span>)</span><br><span class="line">theta_new = np.ones((X_train_b.shape[<span class="hljs-number">1</span>],<span class="hljs-number">1</span>),dtype=int)</span><br><span class="line"></span><br><span class="line">dif=<span class="hljs-number">1e-8</span></span><br><span class="line">j=<span class="hljs-number">0</span></span><br><span class="line"><span class="hljs-comment">#　while abs(loss_function(theta_new,X_train_b,Y_train_b)-loss_function(theta_old,X_train_b,Y_train_b)) &gt; dif:</span></span><br><span class="line"><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">1441</span>):</span><br><span class="line">    theta_old = theta_new</span><br><span class="line">    theta_new = theta_new-alpha*tidu(theta_new,X_train_b,Y_train_b)</span><br><span class="line">    <span class="hljs-comment">#print(theta_new)</span></span><br><span class="line">    <span class="hljs-comment"># print(loss_function(theta_new,X_train_b,Y_train_b))</span></span><br><span class="line">    j+=<span class="hljs-number">1</span></span><br><span class="line">print(j)</span><br><span class="line">print(theta_new)</span><br></pre></td></tr></table></figure>

<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">(512, 1)</span><br><span class="line">1441</span><br><span class="line">[[4.29250937]</span><br><span class="line"> [1.48160367]</span><br><span class="line"> [1.57861817]</span><br><span class="line"> [1.57570445]</span><br><span class="line"> [1.49454621]</span><br><span class="line"> [1.5039255 ]</span><br><span class="line"> [1.58484673]</span><br><span class="line"> [1.53360512]</span><br><span class="line"> [1.52989014]</span><br><span class="line"> [1.29539431]]</span><br></pre></td></tr></table></figure>

<p><strong>其实这里应该再加一个评估算法，最起码应该有个混淆矩阵来展示训练的准确性，但是我懒得写了，因为后面会有专门的一节来写模型评估</strong></p>
<h2 id="随机梯度下降"><a href="#随机梯度下降" class="headerlink" title="随机梯度下降"></a>随机梯度下降</h2><figure class="highlight python hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment"># 随机梯度下降</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">tidu_r</span><span class="hljs-params">(theta,x,y)</span>:</span></span><br><span class="line">    <span class="hljs-keyword">return</span> x*(sigma(theta.T.dot(x))-y)/len(x)</span><br></pre></td></tr></table></figure>

<figure class="highlight python hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">import</span> random</span><br><span class="line">theta_old = np.full((X_train_b.shape[<span class="hljs-number">1</span>],<span class="hljs-number">1</span>), <span class="hljs-number">-1</span>)</span><br><span class="line">theta_new = np.ones((X_train_b.shape[<span class="hljs-number">1</span>],<span class="hljs-number">1</span>),dtype=int)</span><br><span class="line"><span class="hljs-keyword">while</span> abs(loss_function(theta_new,X_train_b,Y_train_b)-loss_function(theta_old,X_train_b,Y_train_b)) &gt; dif:</span><br><span class="line"><span class="hljs-comment"># for i in range(500):</span></span><br><span class="line">    <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> range(X_train_b.shape[<span class="hljs-number">0</span>]):</span><br><span class="line">        alpha = <span class="hljs-number">4</span>/(<span class="hljs-number">1.0</span>+i+j)+<span class="hljs-number">0.01</span></span><br><span class="line">        index = int(random.uniform(<span class="hljs-number">0</span>, len(Y_train)))</span><br><span class="line">        <span class="hljs-comment"># print(index)</span></span><br><span class="line">        <span class="hljs-comment"># print(X_train_b[index][:, np.newaxis])</span></span><br><span class="line">        theta_old = theta_new</span><br><span class="line">        theta_new = theta_new-alpha*tidu_r(theta_new,X_train_b[index][:, np.newaxis],Y_train_b[index])</span><br><span class="line">print(theta_new)</span><br></pre></td></tr></table></figure>

<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[[5.29632966]</span><br><span class="line"> [1.54190479]</span><br><span class="line"> [1.72308911]</span><br><span class="line"> [1.76382384]</span><br><span class="line"> [1.64690799]</span><br><span class="line"> [1.75827617]</span><br><span class="line"> [1.84435603]</span><br><span class="line"> [1.55664591]</span><br><span class="line"> [1.64353605]</span><br><span class="line"> [1.36634795]]</span><br></pre></td></tr></table></figure>

<h2 id="sklearn逻辑回归"><a href="#sklearn逻辑回归" class="headerlink" title="sklearn逻辑回归"></a>sklearn逻辑回归</h2><figure class="highlight python hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">from</span> sklearn.linear_model <span class="hljs-keyword">import</span> LogisticRegression</span><br><span class="line">classifier = LogisticRegression()</span><br><span class="line">classifier.fit(X_train, Y_train)</span><br></pre></td></tr></table></figure>

<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">LogisticRegression(C=1.0, class_weight=None, dual=False, fit_intercept=True,</span><br><span class="line">          intercept_scaling=1, max_iter=100, multi_class=&apos;ovr&apos;, n_jobs=1,</span><br><span class="line">          penalty=&apos;l2&apos;, random_state=None, solver=&apos;liblinear&apos;, tol=0.0001,</span><br><span class="line">          verbose=0, warm_start=False)</span><br></pre></td></tr></table></figure>

<figure class="highlight python hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">y_pred = classifier.predict(X_test)</span><br></pre></td></tr></table></figure>

<figure class="highlight python hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment"># 混淆矩阵</span></span><br><span class="line"><span class="hljs-keyword">from</span> sklearn.metrics <span class="hljs-keyword">import</span> confusion_matrix</span><br><span class="line">cm = confusion_matrix(Y_test, y_pred)</span><br></pre></td></tr></table></figure>

<figure class="highlight python hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cm</span><br></pre></td></tr></table></figure>

<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">array([[103,   4],</span><br><span class="line">       [  5,  59]], dtype=int64)</span><br></pre></td></tr></table></figure>

<figure class="highlight python hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">help(LogisticRegression)</span><br></pre></td></tr></table></figure>

<figure class="highlight python hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print(classifier.intercept_)</span><br><span class="line">print(classifier.coef_)</span><br></pre></td></tr></table></figure>

<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[-1.14177747]</span><br><span class="line">[[0.96836256 0.44066646 0.74714873 0.5553863  0.5467849  1.42317281</span><br><span class="line">  0.75210949 0.68330651 0.36139182]]</span><br></pre></td></tr></table></figure>

<h2 id="sklearn-随机梯度下降"><a href="#sklearn-随机梯度下降" class="headerlink" title="sklearn 随机梯度下降"></a>sklearn 随机梯度下降</h2><figure class="highlight python hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment"># sklearn SDG</span></span><br><span class="line"><span class="hljs-keyword">from</span> sklearn.linear_model <span class="hljs-keyword">import</span> SGDClassifier</span><br><span class="line">sgdc=SGDClassifier()</span><br><span class="line">sgdc.fit(X_train,Y_train)</span><br><span class="line">sgdc_y_predict=sgdc.predict(X_test)</span><br></pre></td></tr></table></figure>

<figure class="highlight python hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">help(SGDClassifier)</span><br></pre></td></tr></table></figure>

<p>​    </p>
<figure class="highlight python hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print(sgdc.coef_)</span><br><span class="line">print(sgdc.intercept_)</span><br></pre></td></tr></table></figure>

<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[[ 3.00712617  6.44910932  1.9034264   7.9184444  -1.24606701  9.32825779</span><br><span class="line">  14.67255746  2.70862189  4.92001942]]</span><br><span class="line">[-5.61627899]</span><br></pre></td></tr></table></figure>

<figure class="highlight python hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">from</span> sklearn.metrics <span class="hljs-keyword">import</span> confusion_matrix</span><br><span class="line">cm = confusion_matrix(Y_test, sgdc_y_predict)</span><br><span class="line">cm</span><br></pre></td></tr></table></figure>

<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">array([[104,   3],</span><br><span class="line">       [  4,  60]], dtype=int64)</span><br></pre></td></tr></table></figure>
        </div>
        
        <div class="level is-size-7 is-uppercase">
            <div class="level-start">
                <div class="level-item">
                    <span class="is-size-6 has-text-grey has-mr-7">#</span>
                    <a class="has-link-grey -link" href="/tags/机器学习/">机器学习</a>
                </div>
            </div>
        </div>
        
        
        
    </div>
</div>





<div class="card card-transparent">
    <div class="level post-navigation is-flex-wrap is-mobile">
        
        <div class="level-start">
            <a class="level level-item has-link-grey  article-nav-prev" href="/2019/06/02/ji-qi-xue-xi-bi-ji-mo-xing-yan-zheng/">
                <i class="level-item fas fa-chevron-left"></i>
                <span class="level-item">机器学习笔记-----模型评估</span>
            </a>
        </div>
        
        
        <div class="level-end">
            <a class="level level-item has-link-grey  article-nav-next" href="/2019/05/19/ji-qi-xue-xi-bi-ji-zui-xiao-er-cheng-fa/">
                <span class="level-item">机器学习笔记-----最小二乘法</span>
                <i class="level-item fas fa-chevron-right"></i>
            </a>
        </div>
        
    </div>
</div>


</div>
                

<!-- 粘贴的部分 -->
                          <!-- 修改，可选保留的栏 -->




<div class="column is-4-tablet is-4-desktop is-3-widescreen  has-order-3 column-left ">
    
        
<div class="card widget">
    <div class="card-content">
        <nav class="level">
            <div class="level-item has-text-centered">
                <div>
                    
                        <img class="image is-128x128 has-mb-6" src="/images/touxiang.jpg" alt="JeWei">
                    
                    
                    <p class="is-size-4 is-block">
                        JeWei
                    </p>
                    
                    
                    <p class="is-size-6 is-block">
                        BIOINFer
                    </p>
                    
                    
                    <p class="is-size-6 is-flex is-flex-center has-text-grey">
                        <i class="fas fa-map-marker-alt has-mr-7"></i>
                        <span>北京</span>
                    </p>
                    
                </div>
            </div>
        </nav>
        <nav class="level is-mobile">
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        文章
                    </p>
                    <p class="title has-text-weight-normal">
                        16
                    </p>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        分类
                    </p>
                    <p class="title has-text-weight-normal">
                        4
                    </p>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        标签
                    </p>
                    <p class="title has-text-weight-normal">
                        6
                    </p>
                </div>
            </div>
        </nav>
        <div class="level">
            <a class="level-item button is-link is-rounded" href="https://github.com/JeWeizhong" target="_blank">
                关注我</a>
        </div>
        
        
        <div class="level is-mobile">
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="Github" href="https://github.com/JeWeizhong">
                
                <i class="fab fa-github"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="QQ" href="https://facebook.com">
                
                <i class="fab fa-qq"></i>
                
            </a>
            
        </div>
        
    </div>
</div>
    
        
<div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                分类
            </h3>
            <ul class="menu-list">
            <li>
        <a class="level is-marginless" href="/categories/数学与统计/">
            <span class="level-start">
                <span class="level-item">数学与统计</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">6</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/生信/">
            <span class="level-start">
                <span class="level-item">生信</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">2</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/计算机/">
            <span class="level-start">
                <span class="level-item">计算机</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">7</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/阅读/">
            <span class="level-start">
                <span class="level-item">阅读</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li>
            </ul>
        </div>
    </div>
</div>
    
        
<div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            标签云
        </h3>
        <a href="/tags/awk/" style="font-size: 10px;">awk</a> <a href="/tags/python/" style="font-size: 10px;">python</a> <a href="/tags/python3/" style="font-size: 16.67px;">python3</a> <a href="/tags/摘抄/" style="font-size: 10px;">摘抄</a> <a href="/tags/机器学习/" style="font-size: 20px;">机器学习</a> <a href="/tags/生信基础/" style="font-size: 13.33px;">生信基础</a>
    </div>
</div>

    
        
<div class="card widget" id="toc">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                目录
            </h3>
            <ul class="menu-list"><li>
        <a class="is-flex" href="#损失函数与迭代公式">
        <span class="has-mr-6">1</span>
        <span>损失函数与迭代公式</span>
        </a></li><li>
        <a class="is-flex" href="#梯度下降">
        <span class="has-mr-6">2</span>
        <span>梯度下降</span>
        </a></li><li>
        <a class="is-flex" href="#随机梯度下降">
        <span class="has-mr-6">3</span>
        <span>随机梯度下降</span>
        </a></li><li>
        <a class="is-flex" href="#sklearn逻辑回归">
        <span class="has-mr-6">4</span>
        <span>sklearn逻辑回归</span>
        </a></li><li>
        <a class="is-flex" href="#sklearn-随机梯度下降">
        <span class="has-mr-6">5</span>
        <span>sklearn 随机梯度下降</span>
        </a></li></ul>
        </div>
    </div>
</div>

    
        

<div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            链接
        </h3>
        <ul class="menu-list">
        
            <li>
                <a class="level is-mobile" href="https://hexo.io" target="_blank">
                    <span class="level-left">
                        <span class="level-item">Hexo</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">hexo.io</span>
                    </span>
                </a>
            </li>
        
            <li>
                <a class="level is-mobile" href="https://github.com/ppoffice" target="_blank">
                    <span class="level-left">
                        <span class="level-item">PPOffice</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">github.com</span>
                    </span>
                </a>
            </li>
        
        </ul>
        </div>
    </div>
</div>


    
    
        <div class="column-right-shadow is-hidden-widescreen ">
        
            
<div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            最新文章
        </h3>
        
        <article class="media">
            
            <a href="/2019/06/02/ji-qi-xue-xi-bi-ji-mo-xing-yan-zheng/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/1.jpg" alt="机器学习笔记-----模型评估">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-06-01T16:00:00.000Z">2019-06-02</time></div>
                    <a href="/2019/06/02/ji-qi-xue-xi-bi-ji-mo-xing-yan-zheng/" class="has-link-black-ter is-size-6">机器学习笔记-----模型评估</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/数学与统计/">数学与统计</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/05/26/ji-qi-xue-xi-bi-ji-ti-du-xia-jiang-yu-sui-ji-ti-du-xia-jiang/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/12.jpg" alt="机器学习笔记-----梯度下降与随机梯度下降">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-05-25T16:00:00.000Z">2019-05-26</time></div>
                    <a href="/2019/05/26/ji-qi-xue-xi-bi-ji-ti-du-xia-jiang-yu-sui-ji-ti-du-xia-jiang/" class="has-link-black-ter is-size-6">机器学习笔记-----梯度下降与随机梯度下降</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/数学与统计/">数学与统计</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/05/19/ji-qi-xue-xi-bi-ji-zui-xiao-er-cheng-fa/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/11.jpg" alt="机器学习笔记-----最小二乘法">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-05-18T16:00:00.000Z">2019-05-19</time></div>
                    <a href="/2019/05/19/ji-qi-xue-xi-bi-ji-zui-xiao-er-cheng-fa/" class="has-link-black-ter is-size-6">机器学习笔记-----最小二乘法</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/数学与统计/">数学与统计</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/05/18/sheng-xin-ji-chu-zhi-shi-fastq-wen-jian-ge-shi/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/6.jpg" alt="生信基础知识-----fastq文件格式详解">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-05-17T16:00:00.000Z">2019-05-18</time></div>
                    <a href="/2019/05/18/sheng-xin-ji-chu-zhi-shi-fastq-wen-jian-ge-shi/" class="has-link-black-ter is-size-6">生信基础知识-----fastq文件格式详解</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/生信/">生信</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/05/18/sheng-xin-ji-chu-zhi-shi-sam-bam-wen-jian-ge-shi/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/7.jpg" alt="生新基础知识-----sam-bam文件格式详解">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-05-17T16:00:00.000Z">2019-05-18</time></div>
                    <a href="/2019/05/18/sheng-xin-ji-chu-zhi-shi-sam-bam-wen-jian-ge-shi/" class="has-link-black-ter is-size-6">生新基础知识-----sam-bam文件格式详解</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/生信/">生信</a>
                    </p>
                </div>
            </div>
        </article>
        
    </div>
</div>

        
            <div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            归档
        </h3>
        <ul class="menu-list">
        
        <li>
            <a class="level is-marginless" href="/archives/2019/06/">
                <span class="level-start">
                    <span class="level-item">六月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/05/">
                <span class="level-start">
                    <span class="level-item">五月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">6</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/01/">
                <span class="level-start">
                    <span class="level-item">一月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/11/">
                <span class="level-start">
                    <span class="level-item">十一月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">6</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/05/">
                <span class="level-start">
                    <span class="level-item">五月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/03/">
                <span class="level-start">
                    <span class="level-item">三月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        </ul>
        </div>
    </div>
</div>
        
            <div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                标签
            </h3>
            <div class="field is-grouped is-grouped-multiline">
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/awk/">
                        <span class="tag">awk</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/python/">
                        <span class="tag">python</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/python3/">
                        <span class="tag">python3</span>
                        <span class="tag is-grey">5</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/摘抄/">
                        <span class="tag">摘抄</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/机器学习/">
                        <span class="tag">机器学习</span>
                        <span class="tag is-grey">6</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/生信基础/">
                        <span class="tag">生信基础</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
            </div>
        </div>
    </div>
</div>
        
        </div>
    
</div>

                

<!-- 粘贴的部分 -->

            </div>
        </div>
    </section>
    <footer class="footer">
    <div class="container">
        <div class="level">
            <div class="level-start has-text-centered-mobile">
                <a class="footer-logo is-block has-mb-6" href="/">
                
                    <img src="/images/zhuye.svg" alt="机器学习笔记-----梯度下降与随机梯度下降" height="28">
                
                </a>
                <p class="is-size-7">
                &copy; 2019 Naruto&nbsp;
                Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> & <a
                        href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank">Icarus</a>
                
                </p>
            </div>
            <div class="level-end">
            
                <div class="field has-addons is-flex-center-mobile has-mt-5-mobile is-flex-wrap is-flex-middle">
                
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Creative Commons" href="https://creativecommons.org/">
                        
                        <i class="fab fa-creative-commons"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/">
                        
                        <i class="fab fa-creative-commons-by"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus">
                        
                        <i class="fab fa-github"></i>
                        
                    </a>
                </p>
                
                </div>
            
            </div>
        </div>
    </div>
</footer>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script>
<script>moment.locale("zh-CN");</script>


    
    
    
    <script src="/js/animation.js"></script>
    

    
    
    
    <script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script>
    <script src="/js/gallery.js" defer></script>
    

    
    

<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/">Update
            my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.js" defer></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        });
    });
</script>


    
    
<script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>
<script>
document.addEventListener('DOMContentLoaded', function () {
    MathJax.Hub.Config({
        'HTML-CSS': {
            matchFontHeight: false
        },
        SVG: {
            matchFontHeight: false
        },
        CommonHTML: {
            matchFontHeight: false
        },
        tex2jax: {
            inlineMath: [
                ['$','$'],
                ['\\(','\\)']
            ]
        }
    });
});
</script>

    
    

<a id="back-to-top" title="回到顶端" href="javascript:;">
    <i class="fas fa-chevron-up"></i>
</a>
<script src="/js/back-to-top.js" defer></script>


    
    

    
    
    
    

    
    
    
    
    
    <script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script>
    <script src="/js/clipboard.js" defer></script>
    

    
    
    


<script src="/js/main.js" defer></script>

    
    <div class="searchbox ins-search">
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="想要查找什么..." />
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: '文章',
                PAGES: '页面',
                CATEGORIES: '分类',
                TAGS: '标签',
                UNTITLED: '(无标题)',
            },
            CONTENT_URL: '/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>
<script src="/js/insight.js" defer></script>
<link rel="stylesheet" href="/css/search.css">
<link rel="stylesheet" href="/css/insight.css">
    
</body>
</html>